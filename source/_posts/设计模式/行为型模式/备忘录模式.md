---
title: 备忘录模式
toc: true
tags: 设计模式
---

## 定义

Memento Pattern：在不破坏封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态。这样以后就可将该对象恢复到原先保存的状态。

## 类图

![](./beiwanglu.png)

### 角色

- 原发器 （Originator） ：记录当前时刻的内部状态，负责定义哪些属于备份范围的状态，负责创建和恢复备忘录数据。
- 备忘录 （Memento） ：负责存储发起人对象的内部状态，在需要的时候提供发起人需要的内部状态。
- 负责人 （Caretaker）：对备忘录进行管理，保存和提供备忘录。

### 优缺点

- 提供一种状态恢复机制


## 使用场景

- 游戏的当前状态
- 回滚操作

## 参考

- [https://xmuxiaomo.github.io/2015/05/25/设计模式学习（五）——备忘录模式/](https://xmuxiaomo.github.io/2015/05/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A05%E2%80%94%E2%80%94%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/)
- [https://www.cnblogs.com/java-my-life/archive/2012/06/06/2534942.html](https://www.cnblogs.com/java-my-life/archive/2012/06/06/2534942.html)
- [https://refactoringguru.cn/design-patterns/memento](https://refactoringguru.cn/design-patterns/memento)
