---
layout: post
title: 数据结构（红黑树）
category: 算法
tags: 算法 数据结构
keywords:
description:
---

## 定义


红黑树是一种自平衡二叉查找树，它可以在 O($\log(n)$ ) 时间内完成查找、插入和删除，这里的n是树中元素的数目。

红黑树是每个节点都带有颜色属性的**二叉查找树**，颜色为红色或黑色。在二叉查找树强制一般要求以外，对于任何有效的红黑树我们增加了如下的额外要求： 

1. 节点是红色或黑色。
2. 根节点是黑色。
3. 每个叶子节点都是黑色的空节点（NIL节点）。
4. 每个红色节点的两个子节点都是黑色。(从每个叶子到根的所有路径上不能有两个连续的红色节点)
5. 从任一节点到其每个叶子的所有路径都包含相同数目的黑色节点。


![](/public/img/python/red_black_tree_1.png)


## 操作

因为每一个红黑树也是一个特化的二叉查找树，因此红黑树上的只读操作与普通二叉查找树上的只读操作相同。然而，在红黑树上进行插入操作和删除操作会导致不再符合红黑树的性质。恢复红黑树的性质需要少量（O($\log(n)$)的颜色变更（实际是非常快速的）和不超过三次树旋转（对于插入操作是两次）。虽然插入和删除很复杂，但操作时间仍可以保持为 O ($\log(n)$)次。

**左旋转**

逆时针旋转红黑树的两个节点，使得父节点被自己的右孩子取代，而自己成为自己的左孩子。下图中身为右孩子的Y取代了X的位置，而X变成了自己的左孩子。此为左旋转。


![](/public/img/python/red_black_tree_2.png)

**右旋转**

顺时针旋转红黑树的两个节点，使得父节点被自己的左孩子取代，而自己成为自己的右孩子。下图中身为左孩子的Y取代了X的位置，而X变成了自己的右孩子。此为右旋转。

![](/public/img/python/red_black_tree_3.png)


### 插入




## 应用场景

- JDK的集合类TreeMap、TreeSet、HashMap


## 参考

- [https://www.cxyxiaowu.com/3173.html](https://www.cxyxiaowu.com/3173.html)
- [https://zh.wikipedia.org/wiki/%E7%BA%A2%E9%BB%91%E6%A0%91](https://zh.wikipedia.org/wiki/%E7%BA%A2%E9%BB%91%E6%A0%91)
