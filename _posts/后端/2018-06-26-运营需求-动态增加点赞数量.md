---
layout: post
title: 增加某动态的点赞数量
category: 后端
tags: MYSQL
keywords:
description:
---


### 1.关于点赞

- 点赞只存在于app端,web端暂不支持;
- web端的视频播放页所播放的视频也即为动态视频;
- 动态点赞存储在 blog.cdb_blog_年份(如:blog.cdb_blog_2018) 这样的表中,字段likeNum是点赞数量;


### 2.如何增加动态点赞

----

2.1.视频播放页

具体所需增加点赞的视频播放页面url和增加的点赞数量由运营提供

2.2.从视频播放页提取视频id

在视频播放页右键查看页面源码,找到:
    
    <script type="text/javascript">
        var videoInfo={
            assetId : '48233815',
            assetDid : '1800748023',
            assetBid : '66469077',
            assetClass : '1',
            assetGameid : '52350',
            appId : 15150,
            asset_url : 'http://www.aipai.com/c50/OjciIiErJSBqJWQuKQ.html',            
            assetType : 2,
            mobileUrl: 'http://m.aipai.com/m50/OjciIiErJSBqJWQuKQ.html',
            title : '《龙城学院》剑客是怎么耍贱的？|手游|自由幻想_自由幻想手游视频_爱拍原创',
            albumUrl: '',
            totalTime:'285',
            audit: '1'
        };

所需参数:

    assetId 是card.cdb_card中的id,也是blog.cdb_blog_年份 表中的dataId;
    assetDid 是具体的动态id,对应blog.cdb_blog_年份 表中的did

2.3.更新动态的点赞数量

    update `blog`.`cdb_blog_2018` set likeNum = likeNum + 2236 where did = 1800748023
