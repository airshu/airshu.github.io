---
layout: post
title: Steam版发布流程
category: 技术
tags: 
keywords: 
description: 
---

Steam版发布流程

**1、编译release版本，使用dev_steam分支**

检查使用版本的修改

	# 打开xiaodao.py文件
	# 注释掉正式版激活的代码
	# GlobalSignal().setProActive("00000000")

	# 注释调判断是否购买appid的代码，试用版不限制购买，只要Steam启动就可以用
	# if not SteamApps.IsAppInstalled(releaseId):
    #     return

检查正式版的修改

	# 打开xiaodao.py文件
	GlobalSignal().setProActive("00000000")	
	if not SteamApps.IsAppInstalled(releaseId):
        return


启动192.168.10.58这台机器，连接git，配置编译参数。进行编译。编译完成后的目录为

	D:\Windows\jenkins\workspace\steam_goplay_editor\mkup\release\bin

**2、提交到Steam平台**

将bin目录下的文件全部复制到以下：

	# 正式版
	F:\steam\sdk\tools\ContentBuilder\content\GoPlay Editor

	# 试用版
	F:\steam\sdk\tools\ContentBuilder\content\GoPlay Editor Demo

启动F:\steam\sdk\tools\ContentBuilder\builder\steamcmd.exe命令

登录steam 
	
	login GoPlay_Editor 密码

上传
	
	# 正式版
	run_app_build_http ..\scripts\app_build_751390.vdf

	# 试用版
	run_app_build_http ..\scripts\app_build_753030.vdf


**3、进入Steam后台，发布**

进入Steamworks设置，选择SteamPipe-->生成版本，选择最新上传的版本，选择一个应用分支中选择default，点击预览更改
  

![1](/public/img/steam_upload1.png)


点击Set Build Live Now

![2](/public/img/steam_upload2.png)

点击发布栏，点击准备发布，点击发布到Steam，复制STEAMWORKS到输入框内，点击完成发布

![3](/public/img/steam_upload3.png)


**4、重启Steam，进行更新**

