---
layout: post
title: Steam平台开发文档
category: 技术
tags: Steam
keywords: 
description: 
---

**Steam基本的开发流程***

1. 申请开发者账号，提交税务清单。100美元。
2. 新建应用，获取APPID，设置商店内容，提交审核。
3. 下载sdk，上传游戏，并设置生成游戏，并提交审核。


**SDK的完整功能列表***

	* glmgr - 适用于 macOS 的 “ToGL”，是 DirectX 至 OpenGL 的兼容性层，详细信息请见 [ToGL github](https://github.com/ValveSoftware/ToGL)
	
	* public/steam - [Steamworks API 概览](https://partner.steamgames.com/doc/sdk/api)

	* redistributable_bin - Steamworks API 的可再发行二进制文件（请见上文 Steamworks API 概览）

	* steamworksexample - [Steamworks API 示例应用程序（SpaceWar）](https://partner.steamgames.com/doc/sdk/api/example)

	* tools

	* 
		* ContentBuilder - [上传至 Steam](https://partner.steamgames.com/doc/sdk/uploading)

		* ContentServer - [SteamPipe 本地内容服务器](https://partner.steamgames.com/doc/sdk/uploading/local_content_server)

		* drm - [Steam DRM（数字权利管理）](https://partner.steamgames.com/doc/features/drm)

		* goldmaster - [创建零售 "Gold Master" 磁盘](https://partner.steamgames.com/doc/sdk/goldmaster)

		* linux - 已弃用，请参考： [基于 SteamOS 和 Linux 的开发](https://partner.steamgames.com/doc/store/application/platforms/linux)

		* ContentPrep.zip - 已弃用，在 SteamPipe 推出前，开发者可通过此工具为 macOS 应用程序设置权限

		* SteamPipeGUI.zip - 适用于 Windows 平台的 [SteamPipe GUI 工具](https://partner.steamgames.com/doc/sdk/uploading#steampipe_gui_tool) ，便于上传结构简单的产品


**上传步骤**

1、解压sdk，sdk所在目录不能有空格
2、编辑sdk\tools\ContentBuilder\scripts的vdf文件，根据appid来重命名。 假设你的APP ID是233330，那么重命名文件为app_build_233330和deport_build_233331。depots为appid+1

	{
        "appid" "233330"//写你的APP ID
        "desc" "Your build description here" //不用动，维持默认即可
        "buildoutput" "..\output\" //维持默认即可
        "contentroot" "..\content\" //维持默认即可
        "setlive"      "" //维持默认即可
        "preview" "0" //维持默认即可
        "local" ""      //维持默认即可
       
        "depots"
        {
                "233331" "depot_build_233331.vdf"//定义deport文件
        }
	}

然后是deport_build_233331

	"DepotBuildConfig"
	{
        // 写你的deport ID
        "DepotID" "233331"
        // 定义根目录，我是直接写的绝对路径
        "ContentRoot"  "D:\steamworks_sdk_139\tools\ContentBuilder\content\"
        // include all files recursivley
		"FileMapping"
		 {
        // 填写你游戏文件存放的路径，*代表包含该目录下的所有文件
		"LocalPath" "D:\steamworks_sdk_139\tools\ContentBuilder\content\你的游戏名\*"
        //后面维持默认即可
    	// This is a path relative to the install folder of your game
    	"DepotPath" "."
    	// If LocalPath contains wildcards, setting this means that all
    	// matching files within subdirectories of LocalPath will also
    	// be included.
    	"recursive" "1"
		}
        // but exclude all symbol files 
        // This can be a full path, or a path relative to ContentRoot
		"FileExclusion" "*.pdb"
	}

3、将游戏文件放到content文件夹中，content\你的游戏名\。

4、双击运行steamcmd.exe，打开之后会自动下载和安装更新，
	
	login name password
	run_app_build ..\srcipts\app_build_xxx.vdf

5、进入steam后台，编辑steamworks设置，打开SteamPipe中的生成版本选项。

6、找到刚上传的build，设置为default，点击预览更改。

7、在新的界面中点击Set Build Live Now。

8、选择发布选项，点击发布。



**steamcmd命令使用**

	强制设置安装目录
	force_install_dir <path>
	安装或者更新应用
	app_update <app_id> [-beta <betaname>] [-betapassword <password>] [validate]



**如何使用激活码**

1、进入GoPlay Editor的管理序列号界面，申请序列号

	https://partner.steamgames.com/apps/packages/751390/

2、如何使用激活码
	
	https://jingyan.baidu.com/article/0964eca21094aa8285f53697.html